(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{21:function(e,t,n){"use strict";var a=n(1),o=n(0),r=n.n(o),c=n(24),i=n.n(c);function l(e){var t=e.initValue,n=e.placeholder,c=e.onChange,l=e.onBlur,s=e.onFocus,u=e.alt,m=e.label,p=e.classes,f=e.fluid,d=e.error,_=e.loading,b=e.maxLength,h=Object(o.useState)(t),O=Object(a.a)(h,2),g=O[0],C=O[1],E=Object(o.useRef)(),j=Object(o.useState)(!1),w=Object(a.a)(j,2),v=w[0],N=w[1];return Object(o.useEffect)(function(){C(t)},[t]),r.a.createElement("section",{className:i.a.Input},m&&r.a.createElement("label",{htmlFor:u,className:i.a.label},m),r.a.createElement("div",{className:i.a.inputContainer},r.a.createElement("input",{value:g,onChange:function(e){C(e.target.value),c(e)},onFocus:function(){setTimeout(function(){N(!0)},200),s()},onBlur:function(){setTimeout(function(){N(!1)},200),l()},className:"\n          ".concat(i.a.input,"\n          ").concat(p||"","\n          ").concat(f&&i.a.fluid,"\n          ").concat(d&&i.a.error,"\n          "),autoComplete:"off",autoCorrect:"off",spellCheck:"false",placeholder:n,maxLength:b,ref:E,name:u,alt:u,id:u}),_?r.a.createElement("i",{role:"button",tabIndex:"0",alt:"Spinner",className:"".concat(i.a.icon," ").concat(i.a.spinner)}):v&&r.a.createElement("i",{role:"button",tabIndex:"0",alt:"Delete",className:"".concat(i.a.icon," ").concat(i.a.cancel),onClick:function(){C(""),E.current.focus()}})),d&&r.a.createElement("label",{htmlFor:u,className:"".concat(i.a.label," ").concat(i.a.error)},d))}l.defaultProps={initValue:"",placeholder:"",onChange:function(){},onBlur:function(){},onFocus:function(){},alt:"",label:"",classes:"",fluid:1,error:"",loading:!1,maxLength:"50"},t.a=l},22:function(e,t,n){e.exports={inputContainer:"Typeahead_inputContainer__1Jrpj",bottomBorder:"Typeahead_bottomBorder__G5cNp",dropDownContainer:"Typeahead_dropDownContainer__2mxCJ",hidden:"Typeahead_hidden__2MRq-",listContainer:"Typeahead_listContainer__3yFsO",dropDownItem:"Typeahead_dropDownItem__2Z6Aw"}},24:function(e,t,n){e.exports={Input:"Input_Input__2bl2d",inputContainer:"Input_inputContainer__1tJXm",input:"Input_input__q_ZDY",fluid:"Input_fluid__1HPpd",label:"Input_label__3LTff",error:"Input_error__2bRy9",icon:"Input_icon__94qWq",cancel:"Input_cancel__hdVRL",spinner:"Input_spinner__28u8F"}},26:function(e,t,n){"use strict";var a=n(1),o=n(0),r=n.n(o),c=n(27),i=n.n(c);function l(e){var t=Object(o.useState)(),n=Object(a.a)(t,2),c=n[0],l=n[1];return Object(o.useEffect)(function(){var t={};e.data.forEach(function(n){var a="";e.lineMap[n.charAt(0)].forEach(function(t,o){a+="".concat(t),e.lineMap[n.charAt(0)].length-1!==o&&(a+=", ")}),t[n]=a}),l(t)},[e.data]),r.a.createElement("div",{className:i.a.selectContainer},e.label&&r.a.createElement("label",{htmlFor:e.alt,className:i.a.label},e.label),r.a.createElement("select",{className:"".concat(i.a.select," ").concat(e.data.length<2&&i.a.disabled),onChange:e.onChange,disabled:e.data.length<2,value:e.selected},e.data.map(function(e,t){return r.a.createElement("option",{value:t,key:e},"".concat(c[e]," Trains"))})),e.error&&r.a.createElement("label",{htmlFor:e.alt,className:"".concat(i.a.label," ").concat(i.a.error)},e.error))}l.defaultProps={data:[],selected:0,onChange:function(){throw new Error("onChange not passed to Typeahead")},lineMap:{},error:"",label:"",alt:""},t.a=l},27:function(e,t,n){e.exports={selectContainer:"Option_selectContainer__XX6YO",select:"Option_select__3kaF-",label:"Option_label__3AXxX",error:"Option_error__3i_y1",disabled:"Option_disabled__3KflP"}},29:function(e,t,n){e.exports={Button:"Button_Button__ADt07",iconContainer:"Button_iconContainer__2QCCp",icon:"Button_icon__3mfyJ",text:"Button_text__Dg7cK"}},31:function(e,t,n){"use strict";t.a={1:["1","2","3"],2:["2","3"],3:["2","3"],4:["4","5","6"],5:["4","5","6"],6:["4","5","6"],7:["7"],9:["GS Shuttle"],S:["S","SIR"],A:["A","C","E"],C:["A","C","E"],E:["A","C","E"],H:["H"],Q:["N","R","W","Q"],N:["N","R","W","Q"],R:["N","R","W","Q"],W:["N","R","W","Q"],F:["B","D","F","M"],M:["B","D","F","M"],D:["B","D","F","M"],B:["B","D","F","M"],G:["G"],J:["J","Z"],Z:["J","Z"],L:["L"]}},32:function(e,t,n){"use strict";function a(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var o=n(0),r=n.n(o),c=n(29),i=n.n(c);t.a=function(e){var t=e.icon,n=a(e,["icon"]);return r.a.createElement("button",Object.assign({className:"".concat(i.a.Button," ").concat(t&&i.a.iconContainer),type:"button"},n),t&&r.a.createElement("img",{src:t,className:i.a.icon,alt:"Icon"}),r.a.createElement("span",{className:i.a.text},n.children))}},33:function(e,t,n){"use strict";var a=n(1),o=n(0),r=n.n(o),c=n(22),i=n.n(c);var l=n(21);function s(e){var t=e.error,n=e.getData,c=e.stationObj,s=e.setStationObj,u=e.loading,m=Object(o.useState)(c.stop_name||""),p=Object(a.a)(m,2),f=p[0],d=p[1],_=Object(o.useState)([]),b=Object(a.a)(_,2),h=b[0],O=b[1],g=Object(o.useState)(!1),C=Object(a.a)(g,2),E=C[0],j=C[1],w=function(e,t){var n=Object(o.useState)(e),r=Object(a.a)(n,2),c=r[0],i=r[1];return Object(o.useEffect)(function(){var n=setTimeout(function(){i(e)},t);return function(){return clearTimeout(n)}},[e,t]),c}(f,500),v=function(e){var t=e.target.id;if(!h[t])throw new RangeError("Invalid id passed to onOptionClick");h[t].stop_id&&(j(!1),s(h[t]),d(h[t].stop_name))};return Object(o.useEffect)(function(){w&&E&&n(f,O,j)},[w]),Object(o.useEffect)(function(){0===h.length&&E&&O([{stop_name:"No Results Found"}])},[h]),r.a.createElement("form",null,r.a.createElement("div",{className:i.a.inputContainer},r.a.createElement(l.a,{placeholder:"Station...",initValue:f,onChange:function(e){d(e.target.value),j(!0),!e.target.value&&h.length&&O([])},onFocus:function(){h.length>1&&j(!0)},onBlur:function(){setTimeout(function(){if(E&&j(!1),!c.stop_name||f!==c.stop_name)for(var e=f.toLowerCase().trim(),t=0;t<h.length;++t)if(e===h[t].stop_name.toLowerCase()){s(h[t]),d(h[t].stop_name);break}},200)},alt:"station",label:"Station Name",classes:i.a.input,fluid:1,error:t,loading:u})),r.a.createElement("div",{className:"".concat(i.a.dropDownContainer," ").concat(!E&&i.a.hidden)},r.a.createElement("ul",{className:i.a.listContainer},h.map(function(e,t){return r.a.createElement("li",{key:e.stop_name,id:t,className:i.a.dropDownItem,onClick:v},e.stop_name)}))))}s.defaultProps={error:"",getData:function(){throw new Error("getData not passed to Typeahead")},stationObj:{},setStationObj:function(){throw new Error("setStation not passed to Typeahead")},loading:!1};t.a=s},34:function(e,t,n){e.exports={WelcomeView:"WelcomeView_WelcomeView__1a7hn",mainHeader:"WelcomeView_mainHeader__3mhpv",secondaryHeader:"WelcomeView_secondaryHeader__2Y9cU",inputsContainer:"WelcomeView_inputsContainer__3xNjj",btnContainer:"WelcomeView_btnContainer__2L--1"}},82:function(e,t,n){"use strict";n.r(t);var a=n(1),o=n(0),r=n.n(o),c=n(33),i=n(34),l=n.n(i),s=n(26),u=n(21),m=n(32),p=n(31);function f(e){var t=e.saveChanges,n=e.networkError,i=Object(o.useState)(""),f=Object(a.a)(i,2),d=f[0],_=f[1],b=Object(o.useState)({}),h=Object(a.a)(b,2),O=h[0],g=h[1],C=Object(o.useState)([]),E=Object(a.a)(C,2),j=E[0],w=E[1],v=Object(o.useState)(""),N=Object(a.a)(v,2),y=N[0],S=N[1],I=Object(o.useState)({name:"",stationObj:"",line:""}),k=Object(a.a)(I,2),x=k[0],D=k[1],F=function(e,t,n){t(e),n(!0)};return Object(o.useEffect)(function(){w(O.stop_id),O.stop_id&&S(O.stop_id[0])},[O]),r.a.createElement("section",{className:l.a.WelcomeView},r.a.createElement("h1",{className:l.a.mainHeader},"Welcome to Choochoo"),r.a.createElement("h4",{className:l.a.secondaryHeader},"Your friendly schedule helper! I work with all the trains in the MTA system, please pick one to get started!"),r.a.createElement("div",{className:l.a.inputsContainer},r.a.createElement(c.a,{error:x.stationObj?x.stationObj:"",getData:function(e,t,a){var o="".concat("https://choochooserver.herokuapp.com","/search/stops/?query=").concat(e);fetch(o).then(function(e){return e.json()}).then(function(e){if(e.error)throw new Error(e.error);t(e),a(!0)}).catch(function(e){"Rate Limit Reached"===e.message?n("Rate Limit Reached",!1):n("/searchStops req failed",!0,F,o,t,a)})},stationObj:O,setStationObj:g}),r.a.createElement(u.a,{onChange:function(e){return _(e.target.value)},initValue:d,maxLength:"16",placeholder:"Name...",alt:"name",label:"First Name (optional)",error:x.name?x.name:"",fluid:1}),r.a.createElement(s.a,{data:j,selection:y,onChange:function(e){return S(j[e.target.value])},error:x.line?x.line:"",lineMap:p.a,label:"Subway Line",alt:"Subway Line"})),r.a.createElement("div",{className:l.a.btnContainer},r.a.createElement(m.a,{onClick:function(){var e={};Object.keys(O).length||(e.stationObj="Missing station name"),d.length>16&&(e.name="First name too long"),y||(e.line="Missing line"),D(e),Object.keys(e).length||t(d,O,y)}},"Get Started")))}f.defaultProps={saveChanges:function(){throw new ReferenceError("saveChanges not passed to MainView")},networkError:function(){throw new ReferenceError("networkError not passed to MainView")}},t.default=f}}]);
//# sourceMappingURL=1.2c116837.chunk.js.map