{"version":3,"sources":["components/reusables/Input.js","css/reusables/Typeahead.module.css","css/reusables/Input.module.css","components/reusables/Option.js","css/reusables/Option.module.css","css/reusables/Button.module.css","components/data/lineMap.js","../node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js","../node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","components/reusables/Button.js","components/reusables/Typeahead.js","components/hooks/useDebounce.js","css/views/WelcomeView.module.css","components/views/WelcomeView.js"],"names":["Input","props","initValue","placeholder","onChange","onBlur","onFocus","alt","label","classes","fluid","error","loading","maxLength","_useState","useState","_useState2","Object","C_Stuff_code_choochoo_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__","inpVal","setInpVal","inpRef","useRef","_useState3","_useState4","active","setActive","useEffect","react__WEBPACK_IMPORTED_MODULE_1___default","a","createElement","className","CSS","htmlFor","inputContainer","value","e","target","setTimeout","concat","input","autoComplete","autoCorrect","spellCheck","ref","name","id","role","tabIndex","icon","spinner","cancel","onClick","current","focus","defaultProps","module","exports","bottomBorder","dropDownContainer","hidden","listContainer","dropDownItem","Option","trains","setTrains","newTrains","data","forEach","item","trainStr","lineMap","charAt","line","i","length","selectContainer","select","disabled","selected","map","key","Error","Button","iconContainer","text","__webpack_exports__","1","2","3","4","5","6","7","9","S","A","C","E","H","Q","N","R","W","F","M","D","B","G","J","Z","L","_objectWithoutProperties","source","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","prototype","propertyIsEnumerable","call","_ref","react_default","assign","type","src","children","Typeahead","getData","stationObj","setStationObj","stop_name","slicedToArray","stationName","setStationName","options","setOptions","_useState5","_useState6","optionsView","enableOptionsView","debouncedQuery","delay","debouncedValue","setDebouncedValue","handler","clearTimeout","useDebounce","onOptionClick","_ref2","RangeError","stop_id","currInp","toLowerCase","trim","WelcomeView","mainHeader","secondaryHeader","inputsContainer","btnContainer","saveChanges","networkError","setName","lines","setLines","_useState7","_useState8","setLine","_useState9","_useState10","errorObj","setErrorObj","onReceiveData","json","_reusables_Typeahead__WEBPACK_IMPORTED_MODULE_2__","url","process","fetch","then","catch","err","message","_reusables_Input__WEBPACK_IMPORTED_MODULE_5__","_reusables_Option__WEBPACK_IMPORTED_MODULE_4__","selection","_reusables_Button__WEBPACK_IMPORTED_MODULE_6__","errors","ReferenceError"],"mappings":"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","file":"static/js/1.2c116837.chunk.js","sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport CSS from '../../css/reusables/Input.module.css';\r\n\r\n// If loading, show spinner. Otherwise show cross to allow input deletion.\r\nfunction Input(props) {\r\n  const {\r\n    initValue,\r\n    placeholder,\r\n    onChange,\r\n    onBlur,\r\n    onFocus,\r\n    alt,\r\n    label,\r\n    classes,\r\n    fluid,\r\n    error,\r\n    loading,\r\n    maxLength\r\n  } = props;\r\n\r\n  const [inpVal, setInpVal] = useState(initValue);\r\n  const inpRef = useRef();\r\n  const [active, setActive] = useState(false);\r\n\r\n  const onInpChange = e => {\r\n    setInpVal(e.target.value);\r\n    onChange(e);\r\n  };\r\n\r\n  useEffect(\r\n    () => {\r\n      setInpVal(initValue);\r\n    },\r\n    [initValue]\r\n  );\r\n\r\n  return (\r\n    <section className={CSS.Input}>\r\n      {label && (\r\n        <label htmlFor={alt} className={CSS.label}>\r\n          {label}\r\n        </label>\r\n      )}\r\n      <div className={CSS.inputContainer}>\r\n        <input\r\n          value={inpVal}\r\n          onChange={onInpChange}\r\n          onFocus={() => {\r\n            // Giving these a bit of a timeout so that the user will be able to click delete before its hidden.\r\n            setTimeout(() => {\r\n              setActive(true);\r\n            }, 200);\r\n            onFocus();\r\n          }}\r\n          onBlur={() => {\r\n            setTimeout(() => {\r\n              setActive(false);\r\n            }, 200);\r\n            onBlur();\r\n          }}\r\n          className={`\r\n          ${CSS.input}\r\n          ${classes || ''}\r\n          ${fluid && CSS.fluid}\r\n          ${error && CSS.error}\r\n          `}\r\n          autoComplete=\"off\"\r\n          autoCorrect=\"off\"\r\n          spellCheck=\"false\"\r\n          placeholder={placeholder}\r\n          maxLength={maxLength}\r\n          ref={inpRef}\r\n          name={alt}\r\n          alt={alt}\r\n          id={alt}\r\n        />\r\n        {loading ? (\r\n          <i role=\"button\" tabIndex=\"0\" alt=\"Spinner\" className={`${CSS.icon} ${CSS.spinner}`} />\r\n        ) : (\r\n          active && (\r\n            <i\r\n              role=\"button\"\r\n              tabIndex=\"0\"\r\n              alt=\"Delete\"\r\n              className={`${CSS.icon} ${CSS.cancel}`}\r\n              onClick={() => {\r\n                setInpVal('');\r\n                inpRef.current.focus();\r\n              }}\r\n            />\r\n          )\r\n        )}\r\n      </div>\r\n      {error && (\r\n        <label htmlFor={alt} className={`${CSS.label} ${CSS.error}`}>\r\n          {error}\r\n        </label>\r\n      )}\r\n    </section>\r\n  );\r\n}\r\n\r\nInput.propTypes = {\r\n  initValue: PropTypes.string,\r\n  placeholder: PropTypes.string,\r\n  onChange: PropTypes.func,\r\n  onBlur: PropTypes.func,\r\n  onFocus: PropTypes.func,\r\n  alt: PropTypes.string,\r\n  label: PropTypes.string,\r\n  classes: PropTypes.string,\r\n  fluid: PropTypes.number,\r\n  error: PropTypes.string,\r\n  loading: PropTypes.bool,\r\n  maxLength: PropTypes.string\r\n};\r\n\r\nInput.defaultProps = {\r\n  initValue: '',\r\n  placeholder: '',\r\n  onChange: () => {},\r\n  onBlur: () => {},\r\n  onFocus: () => {},\r\n  alt: '',\r\n  label: '',\r\n  classes: '',\r\n  fluid: 1,\r\n  error: '',\r\n  loading: false,\r\n  maxLength: '50'\r\n};\r\n\r\nexport default Input;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"inputContainer\":\"Typeahead_inputContainer__1Jrpj\",\"bottomBorder\":\"Typeahead_bottomBorder__G5cNp\",\"dropDownContainer\":\"Typeahead_dropDownContainer__2mxCJ\",\"hidden\":\"Typeahead_hidden__2MRq-\",\"listContainer\":\"Typeahead_listContainer__3yFsO\",\"dropDownItem\":\"Typeahead_dropDownItem__2Z6Aw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Input\":\"Input_Input__2bl2d\",\"inputContainer\":\"Input_inputContainer__1tJXm\",\"input\":\"Input_input__q_ZDY\",\"fluid\":\"Input_fluid__1HPpd\",\"label\":\"Input_label__3LTff\",\"error\":\"Input_error__2bRy9\",\"icon\":\"Input_icon__94qWq\",\"cancel\":\"Input_cancel__hdVRL\",\"spinner\":\"Input_spinner__28u8F\"};","import React, { useState, useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport CSS from '../../css/reusables/Option.module.css';\r\n\r\nfunction Option(props) {\r\n  // Display various line types and let the user select one. If there's only one, select it and disable field.\r\n  const [trains, setTrains] = useState();\r\n\r\n  useEffect(\r\n    () => {\r\n      // On render and update display the appropriate trains.\r\n      const newTrains = {};\r\n      props.data.forEach(item => {\r\n        let trainStr = '';\r\n        props.lineMap[item.charAt(0)].forEach((line, i) => {\r\n          trainStr += `${line}`;\r\n          if (props.lineMap[item.charAt(0)].length - 1 !== i) trainStr += ', ';\r\n        });\r\n        newTrains[item] = trainStr;\r\n      });\r\n      setTrains(newTrains);\r\n    },\r\n    [props.data]\r\n  );\r\n\r\n  return (\r\n    <div className={CSS.selectContainer}>\r\n      {props.label && (\r\n        <label htmlFor={props.alt} className={CSS.label}>\r\n          {props.label}\r\n        </label>\r\n      )}\r\n      <select\r\n        className={`${CSS.select} ${props.data.length < 2 && CSS.disabled}`}\r\n        onChange={props.onChange}\r\n        disabled={props.data.length < 2}\r\n        value={props.selected}\r\n      >\r\n        {props.data.map((item, i) => (\r\n          <option value={i} key={item}>\r\n            {`${trains[item]} Trains`}\r\n          </option>\r\n        ))}\r\n      </select>\r\n      {props.error && (\r\n        <label htmlFor={props.alt} className={`${CSS.label} ${CSS.error}`}>\r\n          {props.error}\r\n        </label>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nOption.propTypes = {\r\n  data: PropTypes.arrayOf(PropTypes.string),\r\n  selected: PropTypes.number,\r\n  onChange: PropTypes.func,\r\n  lineMap: PropTypes.objectOf(PropTypes.arrayOf(PropTypes.string)),\r\n  error: PropTypes.string,\r\n  label: PropTypes.string,\r\n  alt: PropTypes.string\r\n};\r\n\r\nOption.defaultProps = {\r\n  data: [],\r\n  selected: 0,\r\n  onChange: () => {\r\n    throw new Error('onChange not passed to Typeahead');\r\n  },\r\n  lineMap: {},\r\n  error: '',\r\n  label: '',\r\n  alt: ''\r\n};\r\n\r\nexport default Option;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"selectContainer\":\"Option_selectContainer__XX6YO\",\"select\":\"Option_select__3kaF-\",\"label\":\"Option_label__3AXxX\",\"error\":\"Option_error__3i_y1\",\"disabled\":\"Option_disabled__3KflP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__ADt07\",\"iconContainer\":\"Button_iconContainer__2QCCp\",\"icon\":\"Button_icon__3mfyJ\",\"text\":\"Button_text__Dg7cK\"};","export default {\r\n  '1': ['1', '2', '3'],\r\n  '2': ['2', '3'],\r\n  '3': ['2', '3'],\r\n  '4': ['4', '5', '6'],\r\n  '5': ['4', '5', '6'],\r\n  '6': ['4', '5', '6'],\r\n  '7': ['7'],\r\n  '9': ['GS Shuttle'],\r\n  S: ['S', 'SIR'],\r\n  A: ['A', 'C', 'E'],\r\n  C: ['A', 'C', 'E'],\r\n  E: ['A', 'C', 'E'],\r\n  H: ['H'],\r\n  Q: ['N', 'R', 'W', 'Q'],\r\n  N: ['N', 'R', 'W', 'Q'],\r\n  R: ['N', 'R', 'W', 'Q'],\r\n  W: ['N', 'R', 'W', 'Q'],\r\n  F: ['B', 'D', 'F', 'M'],\r\n  M: ['B', 'D', 'F', 'M'],\r\n  D: ['B', 'D', 'F', 'M'],\r\n  B: ['B', 'D', 'F', 'M'],\r\n  G: ['G'],\r\n  J: ['J', 'Z'],\r\n  Z: ['J', 'Z'],\r\n  L: ['L']\r\n};\r\n","import objectWithoutPropertiesLoose from \"./objectWithoutPropertiesLoose\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","import React from 'react';\r\nimport CSS from '../../css/reusables/Button.module.css';\r\n\r\nfunction Button({ icon, ...props }) {\r\n  // If icon, display icon ahead of btn.\r\n  return (\r\n    <button className={`${CSS.Button} ${icon && CSS.iconContainer}`} type=\"button\" {...props}>\r\n      {icon && <img src={icon} className={CSS.icon} alt=\"Icon\" />}\r\n      <span className={CSS.text}>{props.children}</span>\r\n    </button>\r\n  );\r\n}\r\n\r\nexport default Button;\r\n","import React, { useState, useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport CSS from '../../css/reusables/Typeahead.module.css';\r\nimport useDebounce from '../hooks/useDebounce';\r\nimport Input from './Input';\r\n\r\nfunction Typeahead({ error, getData, stationObj, setStationObj, loading }) {\r\n  const [stationName, setStationName] = useState(stationObj.stop_name || '');\r\n  const [options, setOptions] = useState([]);\r\n  const [optionsView, enableOptionsView] = useState(false);\r\n\r\n  const debouncedQuery = useDebounce(stationName, 500);\r\n\r\n  const onOptionClick = ({ target: { id } }) => {\r\n    if (!options[id]) throw new RangeError('Invalid id passed to onOptionClick');\r\n    if (!options[id].stop_id) return; // If there is no stop_id, don't continue (for \"none found\")\r\n\r\n    // If one is selected send it upwards for validation and disable option view.\r\n    enableOptionsView(false);\r\n    setStationObj(options[id]);\r\n    setStationName(options[id].stop_name);\r\n  };\r\n\r\n  useEffect(\r\n    () => {\r\n      // If successfully debounced get data.\r\n      if (debouncedQuery && optionsView) getData(stationName, setOptions, enableOptionsView);\r\n    },\r\n    [debouncedQuery]\r\n  );\r\n\r\n  useEffect(\r\n    () => {\r\n      if (options.length === 0 && optionsView) {\r\n        setOptions([\r\n          {\r\n            stop_name: 'No Results Found'\r\n          }\r\n        ]);\r\n      }\r\n    },\r\n    [options]\r\n  );\r\n\r\n  return (\r\n    <form>\r\n      <div className={CSS.inputContainer}>\r\n        <Input\r\n          placeholder=\"Station...\"\r\n          initValue={stationName}\r\n          onChange={e => {\r\n            setStationName(e.target.value);\r\n            enableOptionsView(true);\r\n            if (!e.target.value && options.length) setOptions([]);\r\n          }}\r\n          onFocus={() => {\r\n            if (options.length > 1) enableOptionsView(true);\r\n          }}\r\n          onBlur={() => {\r\n            // Adding a bit of a delay here in case the blur was to click an option.\r\n            setTimeout(() => {\r\n              if (optionsView) enableOptionsView(false);\r\n              if (!stationObj.stop_name || stationName !== stationObj.stop_name) {\r\n                // On blur, if there is no station selected, try to match the typed str with an option.\r\n                const currInp = stationName.toLowerCase().trim();\r\n                for (let i = 0; i < options.length; ++i) {\r\n                  if (currInp === options[i].stop_name.toLowerCase()) {\r\n                    setStationObj(options[i]);\r\n                    setStationName(options[i].stop_name);\r\n                    break;\r\n                  }\r\n                }\r\n              }\r\n            }, 200);\r\n          }}\r\n          alt=\"station\"\r\n          label=\"Station Name\"\r\n          classes={CSS.input}\r\n          fluid={1}\r\n          error={error}\r\n          loading={loading}\r\n        />\r\n      </div>\r\n      <div className={`${CSS.dropDownContainer} ${!optionsView && CSS.hidden}`}>\r\n        <ul className={CSS.listContainer}>\r\n          {options.map((item, i) => (\r\n            <li key={item.stop_name} id={i} className={CSS.dropDownItem} onClick={onOptionClick}>\r\n              {item.stop_name}\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      </div>\r\n    </form>\r\n  );\r\n}\r\n\r\nTypeahead.propTypes = {\r\n  error: PropTypes.string,\r\n  getData: PropTypes.func,\r\n  stationObj: PropTypes.objectOf(PropTypes.oneOfType([PropTypes.string, PropTypes.arrayOf(PropTypes.string)])),\r\n  setStationObj: PropTypes.func,\r\n  loading: PropTypes.bool\r\n};\r\n\r\nTypeahead.defaultProps = {\r\n  error: '',\r\n  getData: () => {\r\n    throw new Error('getData not passed to Typeahead');\r\n  },\r\n  stationObj: {},\r\n  setStationObj: () => {\r\n    throw new Error('setStation not passed to Typeahead');\r\n  },\r\n  loading: false\r\n};\r\n\r\nexport default Typeahead;\r\n","import { useState, useEffect } from 'react';\r\n\r\nexport default function useDebounce(value, delay) {\r\n  const [debouncedValue, setDebouncedValue] = useState(value);\r\n\r\n  useEffect(\r\n    () => {\r\n      // Update debounced value after delay.\r\n      const handler = setTimeout(() => {\r\n        setDebouncedValue(value);\r\n      }, delay);\r\n\r\n      // Cancel the timeout if the value changes before the delay, or if unmounted.\r\n      return () => clearTimeout(handler);\r\n    },\r\n    [value, delay]\r\n  );\r\n  return debouncedValue;\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"WelcomeView\":\"WelcomeView_WelcomeView__1a7hn\",\"mainHeader\":\"WelcomeView_mainHeader__3mhpv\",\"secondaryHeader\":\"WelcomeView_secondaryHeader__2Y9cU\",\"inputsContainer\":\"WelcomeView_inputsContainer__3xNjj\",\"btnContainer\":\"WelcomeView_btnContainer__2L--1\"};","import React, { useState, useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Typeahead from '../reusables/Typeahead';\r\nimport CSS from '../../css/views/WelcomeView.module.css';\r\nimport Option from '../reusables/Option';\r\nimport Input from '../reusables/Input';\r\nimport Button from '../reusables/Button';\r\nimport lineMap from '../data/lineMap';\r\n\r\nfunction WelcomeView({ saveChanges, networkError }) {\r\n  // The station should contain all the data for the station, not just the name.\r\n  const [name, setName] = useState('');\r\n  const [stationObj, setStationObj] = useState({});\r\n  const [lines, setLines] = useState([]); // List of lines potential line\r\n  const [line, setLine] = useState(''); // Selected line\r\n\r\n  // Error handling: empty strings means no error, otherwise display error.\r\n  const [errorObj, setErrorObj] = useState({\r\n    name: '',\r\n    stationObj: '',\r\n    line: ''\r\n  });\r\n\r\n  const submit = () => {\r\n    // On submit, ensure the fields are valid then saveChanges.\r\n    const errors = {};\r\n\r\n    // First check that they filled in all the areas.\r\n    if (!Object.keys(stationObj).length) errors.stationObj = 'Missing station name';\r\n    if (name.length > 16) errors.name = 'First name too long';\r\n    if (!line) errors.line = 'Missing line';\r\n\r\n    setErrorObj(errors);\r\n    if (!Object.keys(errors).length) {\r\n      // If there are no errors, save the changes.\r\n      saveChanges(name, stationObj, line);\r\n    }\r\n  };\r\n\r\n  // Callback to give to networkError to handle data received after successful retry.\r\n  const onReceiveData = (json, setOptions, enableOptionsView) => {\r\n    setOptions(json);\r\n    enableOptionsView(true);\r\n  };\r\n\r\n  const getData = (stationName, setOptions, enableOptionsView) => {\r\n    const url = `${process.env.REACT_APP_API_URL}/search/stops/?query=${stationName}`;\r\n    fetch(url)\r\n      .then(data => data.json())\r\n      .then(json => {\r\n        if (json.error) throw new Error(json.error);\r\n        // Once I've retrieved data, store it and enable options view.\r\n        setOptions(json);\r\n        enableOptionsView(true);\r\n      })\r\n      .catch(err => {\r\n        if (err.message === 'Rate Limit Reached') {\r\n          networkError('Rate Limit Reached', false);\r\n        } else networkError('/searchStops req failed', true, onReceiveData, url, setOptions, enableOptionsView);\r\n      });\r\n  };\r\n\r\n  useEffect(\r\n    () => {\r\n      // Every time the station changes generate a list of stop_id's it has, which will re-render Option.\r\n      setLines(stationObj.stop_id);\r\n\r\n      // Also default to the first option.\r\n      if (stationObj.stop_id) setLine(stationObj.stop_id[0]);\r\n    },\r\n    [stationObj]\r\n  );\r\n\r\n  return (\r\n    <section className={CSS.WelcomeView}>\r\n      <h1 className={CSS.mainHeader}>Welcome to Choochoo</h1>\r\n      <h4 className={CSS.secondaryHeader}>\r\n        Your friendly schedule helper! I work with all the trains in the MTA system, please pick one to get started!\r\n      </h4>\r\n      <div className={CSS.inputsContainer}>\r\n        <Typeahead\r\n          error={errorObj.stationObj ? errorObj.stationObj : ''}\r\n          getData={getData}\r\n          stationObj={stationObj}\r\n          setStationObj={setStationObj}\r\n        />\r\n        <Input\r\n          onChange={e => setName(e.target.value)}\r\n          initValue={name}\r\n          maxLength=\"16\"\r\n          placeholder=\"Name...\"\r\n          alt=\"name\"\r\n          label=\"First Name (optional)\"\r\n          error={errorObj.name ? errorObj.name : ''}\r\n          fluid={1}\r\n        />\r\n        <Option\r\n          data={lines}\r\n          selection={line}\r\n          onChange={e => setLine(lines[e.target.value])}\r\n          error={errorObj.line ? errorObj.line : ''}\r\n          lineMap={lineMap}\r\n          label=\"Subway Line\"\r\n          alt=\"Subway Line\"\r\n        />\r\n      </div>\r\n\r\n      <div className={CSS.btnContainer}>\r\n        <Button onClick={submit}>Get Started</Button>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nWelcomeView.propTypes = {\r\n  saveChanges: PropTypes.func,\r\n  networkError: PropTypes.func\r\n};\r\n\r\nWelcomeView.defaultProps = {\r\n  saveChanges: () => {\r\n    throw new ReferenceError('saveChanges not passed to MainView');\r\n  },\r\n  networkError: () => {\r\n    throw new ReferenceError('networkError not passed to MainView');\r\n  }\r\n};\r\n\r\nexport default WelcomeView;\r\n"],"sourceRoot":""}