(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,function(e,t,a){e.exports={TrainStatus:"TrainStatus_TrainStatus__164xX",timeContainer:"TrainStatus_timeContainer__23ycg",arrivalTime:"TrainStatus_arrivalTime__3Vd1z",loading:"TrainStatus_loading__1gDl8"}},function(e,t,a){e.exports={TrainBlock:"TrainBlock_TrainBlock__SQ83i",headlineContainer:"TrainBlock_headlineContainer__2r3eC",direction:"TrainBlock_direction__2huRu",N:"TrainBlock_N__EbBM9",S:"TrainBlock_S__3Aqv-",darken:"TrainBlock_darken__2fkO7",statusContainer:"TrainBlock_statusContainer__1b9Jw",floatLoader:"TrainBlock_floatLoader__3BAfU"}},function(e,t,a){e.exports={InputContainer:"Input_InputContainer__UR47m",Input:"Input_Input__2bl2d",fluid:"Input_fluid__1HPpd",label:"Input_label__3LTff",error:"Input_error__2bRy9"}},function(e,t,a){e.exports={inputContainer:"Typeahead_inputContainer__1Jrpj",bottomBorder:"Typeahead_bottomBorder__G5cNp",dropDownContainer:"Typeahead_dropDownContainer__2mxCJ",hidden:"Typeahead_hidden__2MRq-",listContainer:"Typeahead_listContainer__3yFsO",dropDownItem:"Typeahead_dropDownItem__2Z6Aw"}},function(e,t,a){e.exports={selectContainer:"Option_selectContainer__XX6YO",select:"Option_select__3kaF-",label:"Option_label__3AXxX",error:"Option_error__3i_y1",disabled:"Option_disabled__3KflP"}},function(e,t,a){e.exports={WeatherBlock:"WeatherBlock_WeatherBlock__25Xxx",temperatureContainer:"WeatherBlock_temperatureContainer__u_T7R",temperature:"WeatherBlock_temperature__24QZd",desc:"WeatherBlock_desc__2B-cm"}},function(e,t,a){e.exports={WelcomeView:"WelcomeView_WelcomeView__1a7hn",mainHeader:"WelcomeView_mainHeader__3mhpv",secondaryHeader:"WelcomeView_secondaryHeader__2Y9cU",inputsContainer:"WelcomeView_inputsContainer__3xNjj",btnContainer:"WelcomeView_btnContainer__2L--1"}},function(e,t,a){e.exports={MainView:"MainView_MainView__31UIk",mainHeader:"MainView_mainHeader__12fDI",weatherContainer:"MainView_weatherContainer__1wbOh",trainContainer:"MainView_trainContainer__19n16",settingsLink:"MainView_settingsLink__1medH"}},function(e,t,a){e.exports={SettingsView:"SettingsView_SettingsView__BRZfN",mainHeader:"SettingsView_mainHeader__2xJqm",inputsContainer:"SettingsView_inputsContainer__1zckV",btnContainer:"SettingsView_btnContainer__2KtNi",saveContainer:"SettingsView_saveContainer__PbWn5"}},function(e,t,a){e.exports={App:"App_App__16ddI",imgContainer:"App_imgContainer__2g4SJ",headerImg:"App_headerImg__M0vWh"}},function(e,t,a){e.exports={Button:"Button_Button__ADt07",iconContainer:"Button_iconContainer__2QCCp",icon:"Button_icon__3mfyJ",text:"Button_text__Dg7cK"}},function(e,t,a){e.exports={NetworkDialogue:"NetworkDialogue_NetworkDialogue__1am2Q",active:"NetworkDialogue_active__34cWf",blink:"NetworkDialogue_blink__2ZLWi"}},function(e,t,a){e.exports={TrainTracks:"TrainTracks_TrainTracks__2_s2k",TrainImg:"TrainTracks_TrainImg__3gB2H"}},,,function(e,t,a){e.exports=a.p+"static/media/sunny-day.275bbde9.png"},function(e,t,a){e.exports={Spinner:"Spinner_Spinner__ATK4d"}},function(e,t,a){e.exports=a.p+"static/media/whiteTrain.390291fc.png"},function(e,t,a){e.exports=a.p+"static/media/emailIcon.ac575565.svg"},function(e,t,a){e.exports=a.p+"static/media/cloudIcon.941f4bce.svg"},,function(e,t,a){e.exports=a(45)},,,,,,,,,,,,,,,,,,function(e,t,a){var n={"./1.svg":[46,1],"./2.svg":[47,2],"./3.svg":[48,3],"./4.svg":[49,4],"./5.svg":[50,5],"./5x.svg":[51,6],"./6.svg":[52,7],"./7.svg":[53,8],"./7x.svg":[54,9],"./a.svg":[55,10],"./b.svg":[56,11],"./c.svg":[57,12],"./d.svg":[58,13],"./e.svg":[59,14],"./f.svg":[60,15],"./g.svg":[61,16],"./gs.svg":[62,17],"./h.svg":[63,18],"./j.svg":[64,19],"./l.svg":[65,20],"./m.svg":[66,21],"./n.svg":[67,22],"./q.svg":[68,23],"./r.svg":[69,24],"./s.svg":[70,25],"./si.svg":[71,26],"./t.svg":[72,27],"./w.svg":[73,28],"./z.svg":[74,29]};function r(e){var t=n[e];return t?a.e(t[1]).then(function(){var e=t[0];return a.t(e,7)}):Promise.resolve().then(function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t})}r.keys=function(){return Object.keys(n)},r.id=41,e.exports=r},,,,function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(16),c=a.n(o),i=(a(28),a(1)),s=a(17),l=a.n(s),u=a(11),m=a.n(u),d=a(13),f=a.n(d);function p(e){var t=e.message;return r.a.createElement("section",{className:"".concat(f.a.NetworkDialogue," ").concat(t&&f.a.active)},t,r.a.createElement("span",null,"."),r.a.createElement("span",null,"."),r.a.createElement("span",null,"."))}p.defaultProps={message:""};var _=p,g=a(5),h=a.n(g);var b=a(4),v=a.n(b);var E=function(e){return r.a.createElement("div",{className:v.a.InputContainer},e.label&&r.a.createElement("label",{htmlFor:e.alt,className:v.a.label},e.label),r.a.createElement("input",Object.assign({},e,{name:e.alt,className:"\n          ".concat(v.a.Input,"\n          ").concat(e.classes?e.classes:"","\n          ").concat(e.fluid?v.a.fluid:"","\n          ").concat(e.error&&v.a.error,"\n        ")})),e.error&&r.a.createElement("label",{htmlFor:e.alt,className:"".concat(v.a.label," ").concat(v.a.error)},e.error))};function w(e){var t=e.error,a=e.getData,o=e.stationObj,c=e.setStationObj,s=Object(n.useState)(o.stop_name||""),l=Object(i.a)(s,2),u=l[0],m=l[1],d=Object(n.useState)([]),f=Object(i.a)(d,2),p=f[0],_=f[1],g=Object(n.useState)(!1),b=Object(i.a)(g,2),v=b[0],w=b[1],O=function(e,t){var a=Object(n.useState)(e),r=Object(i.a)(a,2),o=r[0],c=r[1];return Object(n.useEffect)(function(){var a=setTimeout(function(){c(e)},t);return function(){return clearTimeout(a)}},[e,t]),o}(u,500),j=function(e){var t=e.target.id;if(!p[t])throw new RangeError("Invalid id passed to onOptionClick");w(!1),c(p[t]),m(p[t].stop_name)};return Object(n.useEffect)(function(){O&&v&&a(u,_,w)},[O]),r.a.createElement("form",null,r.a.createElement("div",{className:h.a.inputContainer},r.a.createElement(E,{placeholder:"Station...",value:u,onChange:function(e){m(e.target.value),w(!0),!e.target.value&&p.length&&_([])},onFocus:function(){p.length>1&&w(!0)},onBlur:function(){setTimeout(function(){if(v&&w(!1),!o.stop_name||u!==o.stop_name)for(var e=u.toLowerCase().trim(),t=0;t<p.length;++t)if(e===p[t].stop_name.toLowerCase()){c(p[t]),m(p[t].stop_name);break}},200)},alt:"station",label:"Station Name",classes:h.a.input,fluid:1,error:t})),r.a.createElement("div",{className:"".concat(h.a.dropDownContainer," ").concat(!v&&h.a.hidden)},r.a.createElement("ul",{className:h.a.listContainer},p.map(function(e,t){return r.a.createElement("li",{key:e.stop_name,id:t,className:h.a.dropDownItem,onClick:j},e.stop_name)}))))}w.defaultProps={error:"",getData:function(){throw new Error("getData not passed to Typeahead")},stationObj:{},setStationObj:function(){throw new Error("setStation not passed to Typeahead")}};var O=w,j=a(8),k=a.n(j),S=a(6),C=a.n(S);function N(e){var t=Object(n.useState)(),a=Object(i.a)(t,2),o=a[0],c=a[1],s=Object(n.useState)(e.selected),l=Object(i.a)(s,2),u=l[0],m=l[1];return Object(n.useEffect)(function(){var t={};e.data.forEach(function(a){var n="";e.lineMap[a.charAt(0)].forEach(function(t,r){n+="".concat(t),e.lineMap[a.charAt(0)].length-1!==r&&(n+=", ")}),t[a]=n}),c(t)},[e.data]),Object(n.useEffect)(function(){m(e.selected)},[e.selected]),r.a.createElement("div",{className:C.a.selectContainer},e.label&&r.a.createElement("label",{htmlFor:e.alt,className:C.a.label},e.label),r.a.createElement("select",{className:"".concat(C.a.select," ").concat(e.data.length<2&&C.a.disabled),onChange:function(t){m(t.target.value),console.log(t.target.value),e.onChange(t)},value:u,disabled:e.data.length<2},e.data.map(function(e,t){return r.a.createElement("option",{value:t,key:e},"".concat(o[e]," Trains"))})),e.error&&r.a.createElement("label",{htmlFor:e.alt,className:"".concat(C.a.label," ").concat(C.a.error)},e.error))}N.defaultProps={data:[],selected:0,onChange:function(){throw new Error("onChange not passed to Typeahead")},lineMap:{},error:"",label:"",alt:""};var T=N,y=a(22),I=a(12),B=a.n(I);var x=function(e){var t=e.icon,a=Object(y.a)(e,["icon"]);return r.a.createElement("button",Object.assign({className:"".concat(B.a.Button," ").concat(t&&B.a.iconContainer),type:"button"},a),t&&r.a.createElement("img",{src:t,className:B.a.icon,alt:"Icon"}),r.a.createElement("span",{className:B.a.text},a.children))},M={1:["1","2","3"],2:["2","3"],3:["2","3"],4:["4","5","6"],5:["4","5","6"],6:["4","5","6"],7:["7"],9:["GS Shuttle"],S:["S","SIR"],A:["A","C","E","H"],C:["A","C","E","H"],E:["A","C","E","H"],H:["A","C","E","H"],Q:["N","R","W","Q"],N:["N","R","W","Q"],R:["N","R","W","Q"],W:["N","R","W","Q"],F:["B","D","F","M"],M:["B","D","F","M"],D:["B","D","F","M"],B:["B","D","F","M"],G:["G"],J:["J","Z"],Z:["J","Z"],L:["L"]};function D(e){var t=e.saveChanges,a=e.networkError,o=Object(n.useState)(""),c=Object(i.a)(o,2),s=c[0],l=c[1],u=Object(n.useState)({}),m=Object(i.a)(u,2),d=m[0],f=m[1],p=Object(n.useState)([]),_=Object(i.a)(p,2),g=_[0],h=_[1],b=Object(n.useState)(""),v=Object(i.a)(b,2),w=v[0],j=v[1],S=Object(n.useState)({name:"",stationObj:"",line:""}),C=Object(i.a)(S,2),N=C[0],y=C[1];return Object(n.useEffect)(function(){h(d.stop_id),d.stop_id&&j(d.stop_id[0])},[d]),r.a.createElement("section",{className:k.a.WelcomeView},r.a.createElement("h1",{className:k.a.mainHeader},"Welcome to choochoo"),r.a.createElement("h4",{className:k.a.secondaryHeader},"I'll need some information before we start"),r.a.createElement("div",{className:k.a.inputsContainer},r.a.createElement(O,{error:N.stationObj?N.stationObj:"",getData:function e(t,n,r){fetch("".concat("https://choochooserver.herokuapp.com","/search/stops/?query=").concat(t)).then(function(e){return e.json()}).then(function(e){if(e.error)throw new Error(e.error);n(e),r(!0)}).catch(function(o){"Rate Limit Reached"===o.message?a("Rate Limit Reached",!1):a("/searchStops req failed",!0,e,t,n,r)})},stationObj:d,setStationObj:f}),r.a.createElement(E,{onChange:function(e){return l(e.target.value)},value:s,maxLength:"16",placeholder:"Name...",alt:"name",label:"First Name",error:N.name?N.name:"",fluid:1}),r.a.createElement(T,{data:g,selection:w,onChange:function(e){return j(g[e.target.value])},error:N.line?N.line:"",lineMap:M,label:"Subway Line",alt:"Subway Line"})),r.a.createElement("div",{className:k.a.btnContainer},r.a.createElement(x,{onClick:function(){var e={};Object.keys(d).length||(e.stationObj="Missing station name"),s.length>16&&(e.name="First name too long"),s.trim()||(e.name="Missing name"),w||(e.line="Missing line"),y(e),Object.keys(e).length||t(s,d,w)}},"Get Started")))}D.defaultProps={saveChanges:function(){throw new ReferenceError("saveChanges not passed to MainView")},networkError:function(){throw new ReferenceError("networkError not passed to MainView")}};var R=D,V=a(18),L=a.n(V);var W=function(){return r.a.createElement("div",{className:L.a.Spinner},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null))},A=a(7),F=a.n(A);function H(e){var t=e.lat,a=e.lon,o=e.networkError,c=Object(n.useState)("00"),s=Object(i.a)(c,2),l=s[0],u=s[1],m=Object(n.useState)("Loading"),d=Object(i.a)(m,2),f=d[0],p=d[1],_=Object(n.useState)(!0),g=Object(i.a)(_,2),h=g[0],b=g[1];return Object(n.useEffect)(function(){!function e(){b(!0),fetch("".concat("https://choochooserver.herokuapp.com","/api/weather/").concat(t,"/").concat(a)).then(function(e){return e.json()}).then(function(e){if(e.error)throw new Error(e.error);u(Math.round(e.temperature)),p(e.summary)}).catch(function(t){console.count("Throwing error from weatherBlock"),"Rate Limit Reached"===t.message?o("Rate Limit Reached",!1):o("/api/weather req failed",!0,e)})}()},[]),Object(n.useEffect)(function(){"00"!==l&&"Loading"!==f&&b(!1)},[l,f]),r.a.createElement("section",{className:F.a.WeatherBlock},h?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:F.a.loader},r.a.createElement(W,null))):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:F.a.temperatureContainer},r.a.createElement("span",{className:F.a.temperature},l)),r.a.createElement("div",{className:F.a.descContainer},r.a.createElement("span",{className:F.a.desc},f))))}H.defaultProps={lat:"40.7831",lon:"73.9712",networkError:function(){throw new ReferenceError("networkError not passed to WeatherBlock")}};var P=H,J=a(19),q=a.n(J),Q=a(14),G=a.n(Q);function U(e){var t=e.eta,a=Object(n.useState)(0),o=Object(i.a)(a,2),c=o[0],s=o[1],l=Object(n.useState)(0),u=Object(i.a)(l,2),m=u[0],d=u[1];return Object(n.useEffect)(function(){if(t>600)s(0);else{var e=(1-t/600)*m;e<m?s(e):e!==m&&s(m)}},[m,t]),r.a.createElement("section",{className:G.a.TrainTracks},r.a.createElement("img",{src:q.a,onLoad:function(e){var t=e.target,a=t.parentNode.offsetWidth-t.offsetWidth;d(a)},alt:"Train",className:G.a.TrainImg,style:{left:c}}))}U.defaultProps={eta:6e5};var Z=U,X=a(2),K=a.n(X);function z(e){var t=e.status,o=e.loading,c=Object(n.useState)(""),s=Object(i.a)(c,2),l=s[0],u=s[1],m=Object(n.useState)(t.eta),d=Object(i.a)(m,2),f=d[0],p=d[1],_=function(e){a(41)("./".concat(e,".svg")).then(function(e){u(e.default)}).catch(function(e){console.error(e)})};return Object(n.useEffect)(function(){if(!o){_(t.routeId.toLowerCase());var e=window.setInterval(function(){p(function(e){return e-10>0?e-10:0})},1e4);return function(){return window.clearInterval(e)}}},[]),Object(n.useEffect)(function(){o||(_(t.routeId.toLowerCase()),p(t.eta))},[t]),r.a.createElement("section",{className:"".concat(K.a.TrainStatus," ").concat(o&&K.a.loading)},!o&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:K.a.timeContainer},r.a.createElement("span",{className:K.a.arrivalTime},Math.round(f/60)<1?"<1":Math.round(f/60)),r.a.createElement("span",{className:K.a.min},"min")),r.a.createElement("div",{className:K.a.routeId},r.a.createElement("img",{className:K.a.routeImg,alt:t.routeId,src:l})),r.a.createElement("div",{className:K.a.trainTracksContainer},r.a.createElement(Z,{eta:f}))))}z.defaultProps={status:{},loading:!1};var Y=z,$=a(3),ee=a.n($);function te(e){var t=e.stationObj,a=e.line,o=e.networkError,c=Object(n.useState)("N"),s=Object(i.a)(c,2),l=s[0],u=s[1],m=Object(n.useState)({N:[],S:[]}),d=Object(i.a)(m,2),f=d[0],p=d[1],_=Object(n.useState)(!1),g=Object(i.a)(_,2),h=g[0],b=g[1],v=function e(){h||(console.log("Getting new schedule for line ".concat(a)),b(!0),fetch("".concat("https://choochooserver.herokuapp.com","/api/schedule/").concat(a)).then(function(e){if(!e.ok)throw e;return e.json()}).then(function(e){if(e.error)throw new Error(e.error);p(e),b(!1)}).catch(function(t){500===t.status||503===t.status?o("500 on /api/schedule/".concat(a),!0,e):console.error(t)}))};return Object(n.useEffect)(function(){localStorage.getItem("direction")&&u(localStorage.getItem("direction")),v();var e=window.setInterval(function(){b(function(e){return e||v(),e})},6e4);return function(){window.clearInterval(e)}},[]),r.a.createElement("section",{className:ee.a.TrainBlock},r.a.createElement("div",{className:ee.a.headlineContainer},r.a.createElement("span",{className:ee.a.stationName},t.stop_name),r.a.createElement("span",{onClick:function(){u(function(e){var t="N"===e?"S":"N";return localStorage.setItem("direction",t),t})},role:"button",tabIndex:"0",className:"".concat(ee.a.direction," ").concat(ee.a[l])},"".concat("N"===l?"Up":"Down","town"))),r.a.createElement("div",{className:ee.a.statusContainer},h||!f[l]?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:ee.a.floatLoader},r.a.createElement(W,null)),r.a.createElement("div",{className:ee.a.darken},r.a.createElement(Y,{loading:!0}),r.a.createElement(Y,{loading:!0}),r.a.createElement(Y,{loading:!0}))):r.a.createElement(r.a.Fragment,null,f[l].map(function(e,t){return r.a.createElement(Y,{status:e,key:"".concat(e.routeId,"_").concat(t)})}))))}te.defaultProps={stationObj:{},line:"",networkError:function(){throw new ReferenceError("networkError not passed to MainView")}};var ae=te,ne=a(9),re=a.n(ne);function oe(e){var t=e.name,a=e.stationObj,o=e.line,c=e.gotoSettings,s=e.networkError,l=Object(n.useState)(),u=Object(i.a)(l,2),m=u[0],d=u[1];return Object(n.useEffect)(function(){d(function(){var e=(new Date).getHours();return e>5&&e<12?"Morning":e>12&&e<18?"Afternoon":e>18||e<5?"Evening":"Day"}())},[]),r.a.createElement("section",{className:re.a.MainView},r.a.createElement("h1",{className:re.a.mainHeader},"Good ",m," ",t),r.a.createElement("div",{className:re.a.weatherContainer},r.a.createElement(P,{lat:a.stop_lat,lon:a.stop_lon,networkError:s})),r.a.createElement("div",{className:re.a.trainContainer},r.a.createElement(ae,{stationObj:a,line:o,networkError:s})),r.a.createElement("div",{className:re.a.settingsLink},r.a.createElement("span",{onClick:c,role:"button",tabIndex:"0"},"Settings")))}oe.defaultProps={name:"",stationObj:{},line:"",gotoSettings:function(){throw new ReferenceError("gotoSettings not passed to MainView")},networkError:function(){throw new ReferenceError("networkError not passed to MainView")}};var ce=oe,ie=a(10),se=a.n(ie),le=a(20),ue=a.n(le),me=a(21),de=a.n(me);function fe(e){var t=e.initData,a=e.networkError,o=e.saveChanges,c=Object(n.useState)(t.name),s=Object(i.a)(c,2),l=s[0],u=s[1],m=Object(n.useState)(t.stationObj),d=Object(i.a)(m,2),f=d[0],p=d[1],_=Object(n.useState)([]),g=Object(i.a)(_,2),h=g[0],b=g[1],v=Object(n.useState)(t.line),w=Object(i.a)(v,2),j=w[0],k=w[1],S=Object(n.useState)({name:"",stationObj:"",line:""}),C=Object(i.a)(S,2),N=C[0],y=C[1];return Object(n.useEffect)(function(){if(b(f.stop_id),f.stop_id){var e=f.stop_id.indexOf(j);-1!==e&&k(f.stop_id[e])}},[f]),r.a.createElement("section",{className:se.a.SettingsView},r.a.createElement("h1",{className:se.a.mainHeader},"Settings"),r.a.createElement("div",{className:se.a.inputsContainer},r.a.createElement(O,{error:N.stationObj?N.stationObj:"",getData:function e(t,n,r){fetch("".concat("https://choochooserver.herokuapp.com","/search/stops/?query=").concat(t)).then(function(e){return e.json()}).then(function(e){if(e.error)throw new Error(e.error);n(e),r(!0)}).catch(function(o){"Rate Limit Reached"===o.message?a("Rate Limit Reached",!1):a("/searchStops req failed",!0,e,t,n,r)})},stationObj:f,setStationObj:p}),r.a.createElement(E,{onChange:function(e){return u(e.target.value)},value:l,maxLength:"16",placeholder:"Name...",alt:"name",label:"First Name",error:N.name?N.name:"",fluid:1}),r.a.createElement(T,{data:h,selected:h.indexOf(j),onChange:function(e){return k(h[e.target.value])},error:N.line?N.line:"",lineMap:M,label:"Subway Line",alt:"Subway Line"})),r.a.createElement("div",{className:se.a.btnContainer},r.a.createElement("a",{href:"mailto:noahryamamoto@gmail.com",target:"_blank",rel:"noopener noreferrer"},r.a.createElement(x,{icon:ue.a},"Feedback")),r.a.createElement("a",{href:"https://darksky.net/poweredby/",target:"_blank",rel:"noopener noreferrer"},r.a.createElement(x,{icon:de.a},"Powered by Dark Sky"))),r.a.createElement("div",{className:se.a.saveContainer},r.a.createElement(x,{onClick:function(){var e={};Object.keys(f).length||(e.stationObj="Missing station name"),l.length>16&&(e.name="First name too long"),l.trim()||(e.name="Missing name"),j||(e.line="Missing line"),y(e),Object.keys(e).length||o(l,f,j)}},"Save Changes")))}fe.defaultProps={initData:{name:"",line:"",stationObj:{}},networkError:function(){throw new ReferenceError("networkError not passed to MainView")},saveChanges:function(){throw new ReferenceError("saveChanges not passed to MainView")}};var pe=fe;var _e=function(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),a=t[0],o=t[1],c=Object(n.useState)(""),s=Object(i.a)(c,2),u=s[0],d=s[1],f=Object(n.useState)(""),p=Object(i.a)(f,2),g=p[0],h=p[1],b=Object(n.useState)(""),v=Object(i.a)(b,2),E=v[0],w=v[1],O=Object(n.useState)(""),j=Object(i.a)(O,2),k=j[0],S=j[1],C=function(e,t,a){if(!t||k)S(e);else if(t){for(var n=arguments.length,r=new Array(n>3?n-3:0),o=3;o<n;o++)r[o-3]=arguments[o];(function e(t,a){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];return 0===t?(S("Tries exceeded, try reloading?"),!1):new Promise(function(n){console.log("Retrying network, attempt: ".concat(t)),navigator.onLine?fetch("".concat("https://choochooserver.herokuapp.com","/api/stopInfo/115")).then(function(e){var t=e.status;if(200!==t)throw new Error("Server Error");a&&a.apply(void 0,r),n(t),S("")}).catch(function(){"Server Down"!==k&&S("Server Down"),setTimeout(function(){return e.apply(void 0,[t-1,a].concat(r))},1e4)}):(k||S("Internet down"),setTimeout(function(){return e.apply(void 0,[t-1,a].concat(r))},1e4))})}).apply(void 0,[5,a].concat(r))}},N=function(e,t,a){if(!e||!t||!a)throw new Error("saveChanges wasn't given proper variables");localStorage.setItem("stationObj",JSON.stringify(t)),localStorage.setItem("name",e),localStorage.setItem("line",a),o(t),d(e),h(a),w("main")};return Object(n.useEffect)(function(){var e=function(e){return localStorage.getItem(e)||""},t=e("name"),a=e("line"),n=JSON.parse(e("stationObj")||"{}");d(t),h(a),o(n),w(t&&n&&a?"main":"welcome")},[]),r.a.createElement("div",{className:m.a.App},r.a.createElement("header",{className:m.a.imgContainer},r.a.createElement("img",{src:l.a,className:m.a.headerImg,alt:"Sun And Clouds"})),r.a.createElement("div",{className:m.a.content},r.a.createElement(_,{message:k}),"welcome"===E&&r.a.createElement(R,{saveChanges:N,networkError:C}),"main"===E&&r.a.createElement(ce,{name:u,stationObj:a,line:g,networkError:C,gotoSettings:function(){return w("settings")}}),"settings"===E&&r.a.createElement(pe,{initData:{name:u,stationObj:a,line:g},networkError:C,saveChanges:N})))};c.a.render(r.a.createElement(_e,null),document.getElementById("root"))}],[[23,31,30]]]);
//# sourceMappingURL=main.18c72ef4.chunk.js.map