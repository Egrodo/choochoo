(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{20:function(e,t,n){"use strict";var a=n(1),o=n(0),r=n.n(o),c=n(23),i=n.n(c);function l(e){var t=e.initValue,n=e.placeholder,c=e.onChange,l=e.onBlur,s=e.onFocus,u=e.alt,p=e.label,f=e.classes,m=e.fluid,d=e.error,b=e.loading,_=e.maxLength,h=Object(o.useState)(t),g=Object(a.a)(h,2),O=g[0],C=g[1],E=Object(o.useRef)(),j=Object(o.useState)(!1),v=Object(a.a)(j,2),w=v[0],S=v[1];return Object(o.useEffect)(function(){C(t)},[t]),r.a.createElement("section",{className:i.a.Input},p&&r.a.createElement("label",{htmlFor:u,className:i.a.label},p),r.a.createElement("div",{className:i.a.inputContainer},r.a.createElement("input",{value:O,onChange:function(e){C(e.target.value),c(e)},onFocus:function(){setTimeout(function(){S(!0)},200),s()},onBlur:function(){setTimeout(function(){S(!1)},200),l()},className:"\n          ".concat(i.a.input,"\n          ").concat(f||"","\n          ").concat(m&&i.a.fluid,"\n          ").concat(d&&i.a.error,"\n          "),autoComplete:"off",autoCorrect:"off",spellCheck:"false",placeholder:n,maxLength:_,ref:E,name:u,alt:u,id:u}),b?r.a.createElement("i",{role:"button",tabIndex:"0",alt:"Spinner",className:"".concat(i.a.icon," ").concat(i.a.spinner)}):w&&r.a.createElement("i",{role:"button",tabIndex:"0",alt:"Delete",className:"".concat(i.a.icon," ").concat(i.a.cancel),onClick:function(){C(""),E.current.focus()}})),d&&r.a.createElement("label",{htmlFor:u,className:"".concat(i.a.label," ").concat(i.a.error)},d))}l.defaultProps={initValue:"",placeholder:"",onChange:function(){},onBlur:function(){},onFocus:function(){},alt:"",label:"",classes:"",fluid:1,error:"",loading:!1,maxLength:"50"},t.a=l},21:function(e,t,n){e.exports={inputContainer:"Typeahead_inputContainer__1Jrpj",bottomBorder:"Typeahead_bottomBorder__G5cNp",dropDownContainer:"Typeahead_dropDownContainer__2mxCJ",hidden:"Typeahead_hidden__2MRq-",listContainer:"Typeahead_listContainer__3yFsO",dropDownItem:"Typeahead_dropDownItem__2Z6Aw"}},23:function(e,t,n){e.exports={Input:"Input_Input__2bl2d",inputContainer:"Input_inputContainer__1tJXm",input:"Input_input__q_ZDY",fluid:"Input_fluid__1HPpd",label:"Input_label__3LTff",error:"Input_error__2bRy9",icon:"Input_icon__94qWq",cancel:"Input_cancel__hdVRL",spinner:"Input_spinner__28u8F"}},25:function(e,t,n){"use strict";var a=n(1),o=n(0),r=n.n(o),c=n(26),i=n.n(c);function l(e){var t=Object(o.useState)(),n=Object(a.a)(t,2),c=n[0],l=n[1];return Object(o.useEffect)(function(){var t={};e.data.forEach(function(n){var a="";e.lineMap[n.charAt(0)].forEach(function(t,o){a+="".concat(t),e.lineMap[n.charAt(0)].length-1!==o&&(a+=", ")}),t[n]=a}),l(t)},[e.data]),r.a.createElement("div",{className:i.a.selectContainer},e.label&&r.a.createElement("label",{htmlFor:e.alt,className:i.a.label},e.label),r.a.createElement("select",{className:"".concat(i.a.select," ").concat(e.data.length<2&&i.a.disabled),onChange:e.onChange,disabled:e.data.length<2,value:e.selected},e.data.map(function(e,t){return r.a.createElement("option",{value:t,key:e},"".concat(c[e]," Trains"))})),e.error&&r.a.createElement("label",{htmlFor:e.alt,className:"".concat(i.a.label," ").concat(i.a.error)},e.error))}l.defaultProps={data:[],selected:0,onChange:function(){throw new Error("onChange not passed to Typeahead")},lineMap:{},error:"",label:"",alt:""},t.a=l},26:function(e,t,n){e.exports={selectContainer:"Option_selectContainer__XX6YO",select:"Option_select__3kaF-",label:"Option_label__3AXxX",error:"Option_error__3i_y1",disabled:"Option_disabled__3KflP"}},28:function(e,t,n){e.exports={Button:"Button_Button__ADt07",iconContainer:"Button_iconContainer__2QCCp",icon:"Button_icon__3mfyJ",text:"Button_text__Dg7cK"}},30:function(e,t,n){"use strict";t.a={1:["1","2","3"],2:["2","3"],3:["2","3"],4:["4","5","6"],5:["4","5","6"],6:["4","5","6"],7:["7"],9:["GS Shuttle"],S:["S","SIR"],A:["A","C","E","H"],C:["A","C","E","H"],E:["A","C","E","H"],H:["A","C","E","H"],Q:["N","R","W","Q"],N:["N","R","W","Q"],R:["N","R","W","Q"],W:["N","R","W","Q"],F:["B","D","F","M"],M:["B","D","F","M"],D:["B","D","F","M"],B:["B","D","F","M"],G:["G"],J:["J","Z"],Z:["J","Z"],L:["L"]}},31:function(e,t,n){"use strict";function a(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var o=n(0),r=n.n(o),c=n(28),i=n.n(c);t.a=function(e){var t=e.icon,n=a(e,["icon"]);return r.a.createElement("button",Object.assign({className:"".concat(i.a.Button," ").concat(t&&i.a.iconContainer),type:"button"},n),t&&r.a.createElement("img",{src:t,className:i.a.icon,alt:"Icon"}),r.a.createElement("span",{className:i.a.text},n.children))}},32:function(e,t,n){"use strict";var a=n(1),o=n(0),r=n.n(o),c=n(21),i=n.n(c);var l=n(20);function s(e){var t=e.error,n=e.getData,c=e.stationObj,s=e.setStationObj,u=e.loading,p=Object(o.useState)(c.stop_name||""),f=Object(a.a)(p,2),m=f[0],d=f[1],b=Object(o.useState)([]),_=Object(a.a)(b,2),h=_[0],g=_[1],O=Object(o.useState)(!1),C=Object(a.a)(O,2),E=C[0],j=C[1],v=function(e,t){var n=Object(o.useState)(e),r=Object(a.a)(n,2),c=r[0],i=r[1];return Object(o.useEffect)(function(){var n=setTimeout(function(){i(e)},t);return function(){return clearTimeout(n)}},[e,t]),c}(m,500),w=function(e){var t=e.target.id;if(!h[t])throw new RangeError("Invalid id passed to onOptionClick");h[t].stop_id&&(j(!1),s(h[t]),d(h[t].stop_name))};return Object(o.useEffect)(function(){v&&E&&n(m,g,j)},[v]),Object(o.useEffect)(function(){0===h.length&&E&&g([{stop_name:"No Results Found"}])},[h]),r.a.createElement("form",null,r.a.createElement("div",{className:i.a.inputContainer},r.a.createElement(l.a,{placeholder:"Station...",initValue:m,onChange:function(e){d(e.target.value),j(!0),!e.target.value&&h.length&&g([])},onFocus:function(){h.length>1&&j(!0)},onBlur:function(){setTimeout(function(){if(E&&j(!1),!c.stop_name||m!==c.stop_name)for(var e=m.toLowerCase().trim(),t=0;t<h.length;++t)if(e===h[t].stop_name.toLowerCase()){s(h[t]),d(h[t].stop_name);break}},200)},alt:"station",label:"Station Name",classes:i.a.input,fluid:1,error:t,loading:u})),r.a.createElement("div",{className:"".concat(i.a.dropDownContainer," ").concat(!E&&i.a.hidden)},r.a.createElement("ul",{className:i.a.listContainer},h.map(function(e,t){return r.a.createElement("li",{key:e.stop_name,id:t,className:i.a.dropDownItem,onClick:w},e.stop_name)}))))}s.defaultProps={error:"",getData:function(){throw new Error("getData not passed to Typeahead")},stationObj:{},setStationObj:function(){throw new Error("setStation not passed to Typeahead")},loading:!1};t.a=s},47:function(e,t,n){e.exports={SettingsView:"SettingsView_SettingsView__BRZfN",mainHeader:"SettingsView_mainHeader__2xJqm",inputsContainer:"SettingsView_inputsContainer__1zckV",btnContainer:"SettingsView_btnContainer__2KtNi",saveContainer:"SettingsView_saveContainer__PbWn5"}},49:function(e,t,n){e.exports=n.p+"static/media/emailIcon.ac575565.svg"},50:function(e,t,n){e.exports=n.p+"static/media/cloudIcon.941f4bce.svg"},82:function(e,t,n){"use strict";n.r(t);var a=n(1),o=n(0),r=n.n(o),c=n(47),i=n.n(c),l=n(32),s=n(20),u=n(25),p=n(31),f=n(30),m=n(49),d=n.n(m),b=n(50),_=n.n(b);function h(e){var t=e.initData,n=e.networkError,c=e.saveChanges,m=Object(o.useState)(t.name),b=Object(a.a)(m,2),h=b[0],g=b[1],O=Object(o.useState)(t.stationObj),C=Object(a.a)(O,2),E=C[0],j=C[1],v=Object(o.useState)([]),w=Object(a.a)(v,2),S=w[0],N=w[1],y=Object(o.useState)(t.line),k=Object(a.a)(y,2),x=k[0],I=k[1],D=Object(o.useState)(!1),F=Object(a.a)(D,2),B=F[0],R=F[1],T=Object(o.useState)({name:"",stationObj:"",line:""}),V=Object(a.a)(T,2),L=V[0],M=V[1];return Object(o.useEffect)(function(){if(N(E.stop_id),E.stop_id){var e=E.stop_id.indexOf(x);I(-1!==e?E.stop_id[e]:E.stop_id[0])}},[E]),r.a.createElement("section",{className:i.a.SettingsView},r.a.createElement("h1",{className:i.a.mainHeader},"Settings"),r.a.createElement("div",{className:i.a.inputsContainer},r.a.createElement(l.a,{error:L.stationObj?L.stationObj:"",getData:function e(t,a,o){R(!0),fetch("".concat("https://choochooserver.herokuapp.com","/search/stops/?query=").concat(t)).then(function(e){return e.json()}).then(function(e){if(e.error)throw new Error(e.error);a(e),R(!1),o(!0)}).catch(function(r){"Rate Limit Reached"===r.message?n("Rate Limit Reached",!1):n("/searchStops req failed",!0,e,t,a,o)})},stationObj:E,setStationObj:j,loading:B}),r.a.createElement(s.a,{onChange:function(e){return g(e.target.value)},initValue:h,maxLength:"16",placeholder:"Name...",alt:"name",label:"First Name (optional)",error:L.name?L.name:"",fluid:1}),r.a.createElement(u.a,{data:S,lineMap:f.a,selected:S.indexOf(x),onChange:function(e){return I(S[e.target.value])},error:L.line?L.line:"",label:"Subway Line",alt:"Subway Line"})),r.a.createElement("div",{className:i.a.btnContainer},r.a.createElement("a",{href:"mailto:feedback@choochoo.app?subject=Feedback on Choochoo",target:"_blank",rel:"noopener noreferrer"},r.a.createElement(p.a,{icon:d.a},"Feedback")),r.a.createElement("a",{href:"https://darksky.net/poweredby/",target:"_blank",rel:"noopener noreferrer"},r.a.createElement(p.a,{icon:_.a},"Powered by Dark Sky"))),r.a.createElement("div",{className:i.a.saveContainer},r.a.createElement(p.a,{onClick:function(){var e={};Object.keys(E).length||(e.stationObj="Missing station name"),h.length>16&&(e.name="First name too long"),x||(e.line="Missing line"),M(e),Object.keys(e).length||c(h,E,x)}},"Save Changes")))}h.defaultProps={initData:{name:"",line:"",stationObj:{}},networkError:function(){throw new ReferenceError("networkError not passed to MainView")},saveChanges:function(){throw new ReferenceError("saveChanges not passed to MainView")}},t.default=h}}]);
//# sourceMappingURL=3.d1529363.chunk.js.map